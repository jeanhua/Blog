---
title: 操作系统复习笔记（更新中）
date: 2025-06-13 17:49:19
tags:
typora-root-url: ./..

---

本笔记根据王道操作系统编写

## 一、导论

### 1.什么是操作系统？

> 操作系统（Operating System， OS）是指控制和管理整个计算机系统的硬件和软件资源，并合理地组织调度计算机的工作和资源的分配，以提供给用户和其他软件方便的接口和环境，它是计算机系统中最基本的系统软件。

操作系统的功能和目标：**向上提供方便易用的服务**

### 2.操作系统的特征

![操作系统的特征](/image/操作系统复习笔记/操作系统的特征.png)

#### Ⅰ.并发

> 并发：指两个或多个事件在同一时间间隔内发生。这些事件**宏观上是同时发生的**，但**微观上是交替发生的**。

易混概念 “并行” 的定义 —— 指两个或多个事件在同一时刻同时发生

#### Ⅱ.共享

> 共享即资源共享，是指系统中的资源可供内存中多个并发执行的进程共同使用。

分为**互斥共享**和**\"同时\"共享**(宏观同时)

#### Ⅲ.虚拟

> 虚拟是指把一个物理上的实体变为若干个逻辑上的对应物。物理实体（前者）是实际存在的，而逻辑上对应物（后者）是用户感受到的。

分为**时分复用**(如虚拟处理器)和空分**复用技术**(如虚拟存储器)

#### Ⅳ.异步

异步是指，在多道程序环境下，允许多个程序并发执行，但由于资源有限，进程的执行不是一贯到底的，而是走走停停，以不可预知的速度向前推进，这就是进程的异步性。

### 3.操作系统的发展与分类

![操作系统的分类](/image/操作系统复习笔记/操作系统的分类.png)

## 二、操作系统是如何运行的？

### 1.操作系统的运行机制

![操作系统的运行机制](/image/操作系统复习笔记/操作系统的运行机制.png)

#### Ⅰ.指令

**指令**是处理器能识别和执行的**最基本的命令**
注：与linux和windows的命令行区分开，本质是交互式命令接口

指令又分为两种指令：**特权指令**和**非特权指令**

#### Ⅱ.状态和切换

![两种指令](/image/操作系统复习笔记/两种指令.png)

操作系统可以使用一条**特权指令**，将PSW的标志位设置为**“用户态”**，CPU在运行程序时遇到非法事件时，会产生**中断信号**，强行变回内核态

![状态转换](/image/操作系统复习笔记/状态转换.png)

### 2.中断和异常

**中断**是让操作系统由用户态转为内核态的**唯一途径**，如果没有中断，CPU就会一直执行一个程序直到结束。

也就是说，没有中断，就没有并发性

#### Ⅰ内中断（异常、例外）

1.当前程序执行的**指令是非法**的(比如应用程序打算执行特权指令)，或者执行的**指令参数是非法**的(比如除数是0)，就会产生中断信号

2.当应用程序需要使用系统内核服务时，就会执行一条**陷入指令（又叫trap指令、访管指令）**，会引发一个内部中断，让操作系统转向内核态，然后由中断处理程序来执行相关操作

> 系统调用就是通过陷入指令来完成的

注：陷入指令是用户态执行的，**不是特权指令**

#### Ⅱ.外中断（中断）

1.时钟中断：时钟部件每隔一段时间发出一个中断信号

> 时钟中断配合中断处理程序可以实现程序并发执行

2.I/O中断：输入输出设备发出的中断信号

#### Ⅲ.区别

看中断信号的产生**与当前的指令是否有关**，有关即是内中断，无关即是外中断。

![中断和异常](/image/操作系统复习笔记/中断和异常.png)

#### Ⅳ.中断的基本原理

![中断的基本原理](/image/操作系统复习笔记/中断的基本原理.png)

### 3.系统调用

> “系统调用”是操作系统提供给应用程序（程序员/编程人员）使用的接口，可以理解为一种可供应用程序调用的特殊函数，应用程序可以通过系统调用来请求获得操作系统内核的服务

#### Ⅰ.为什么需要系统调用

应用程序通过系统调用请求操作系统的服务。而系统中的各种共享资源都由操作系统内核统一掌管，因此凡是与共享资源有关的操作（如存储分配、I/O操作、文件管理等），都必须通过系统调用的方式向操作系统内核提出服务请求，由操作系统内核代为完成。这样可以**保证系统的稳定性和安全性**，**防止用户进行非法操作**。

#### Ⅱ.分类

![系统调用按功能分类](/image/操作系统复习笔记/系统调用按功能分类.png)

#### Ⅲ.系统调用的过程

![系统调用的过程](/image/操作系统复习笔记/系统调用的过程.png)

## 三、操作系统的体系

### 1.操作系统内核

内核是操作系统最基本、最核心的部分。 实现操作系统内核功能的那些程序就是内核程序。

![操作系统内核组成](/image/操作系统复习笔记/操作系统内核组成.png)

### 2.大内核(宏内核)与微内核对比

**大内核**：将操作系统主要功能模块都作为操作系统内核，运行在核心态

优点：高性能

缺点：内核代码庞大，难以维护

**微内核**：只把最基础的功能留在内核

优点：内核功能少，结构清晰，容易维护

缺点：需要频繁切换内核态与用户态，导致性能下降

### 3.其他体系结构

![计算机体系结构](/image/操作系统复习笔记/计算机体系结构.png)


## 四、操作系统的引导

操作系统的引导：计算机开机时如何启动操作系统的过程

![操作系统引导过程](/image/操作系统复习笔记/操作系统引导过程.png)

## 五、虚拟机

未完待续……
